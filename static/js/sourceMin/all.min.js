!function(angular){"use strict";var collgeApp=angular.module("mainCollegeApp",["ui.router","mainCollegeApp.dashboard","mainCollegeApp.addStateCityApp","mainCollegeApp.subCityPincodeApp","mainCollegeApp.viewLocationsApp","mainCollegeApp.collegeManagementApp","mainCollegeApp.coachingManagementApp","mainCollegeApp.schoolRegistrationApp","mainCollegeApp.collegeRegistrationApp","mainCollegeApp.coachingRegistrationApp"]);collgeApp.controller("mainCollegeCtrl",function($rootScope){}),collgeApp.config(function($httpProvider){$httpProvider.defaults.xsrfCookieName="csrftoken",$httpProvider.defaults.xsrfHeaderName="X-CSRFToken"})}(angular);var collegeApp=angular.module("mainCollegeApp");collegeApp.config(["$stateProvider","$urlRouterProvider",function($stateProvider,$urlRouterProvider){$urlRouterProvider.otherwise("/home"),$stateProvider.state("Dashboard",{url:"/dashboard",templateUrl:"static/templates/dashboard/dashboard.html",controller:"dashboardCtrl"}).state("location statecity",{url:"/location/statecity",templateUrl:"static/templates/locationManagement/AddStateCity.html",controller:"addStateCityCtrl"}).state("location subcity pincode",{url:"/location/statepin",templateUrl:"static/templates/locationManagement/AddSubCityPin.html",controller:"subCityPincodeCtrl"}).state("location view",{url:"/location/view",templateUrl:"static/templates/locationManagement/ViewLocations.html",controller:"viewLocationsCtrl"}).state("course management college",{url:"/coursemanagement/college",templateUrl:"static/templates/courseManagement/CollegeMaster.html",controller:"collegeManagementCtrl"}).state("course management coaching",{url:"/coursemanagement/coaching",templateUrl:"static/templates/courseManagement/CoachingMaster.html",controller:"coachingManagementCtrl"}).state("Institute registration school",{url:"/instituteregistration/school",templateUrl:"static/templates/instituteRegistration/SchoolRegistration.html",controller:"schoolRegistrationCtrl"}).state("Institute registration college",{url:"/instituteregistration/college",templateUrl:"static/templates/instituteRegistration/CollegeRegistration.html",controller:"collegeRegistrationCtrl"}).state("Institute registration coaching",{url:"/instituteregistration/coaching",templateUrl:"static/templates/instituteRegistration/CoachingRegistration.html",controller:"coachingRegistrationCtrl"})}]),function(angular){"use strict";angular.module("mainCollegeApp").factory("uploadService",["$rootScope","$upload",function($rootScope,$upload){return{uploadFile:function(fileObj,uploadURL,uploadType,emitMessage){$rootScope.upload=$upload.upload({url:uploadURL,data:{uploadType:uploadType},file:fileObj}).progress(function(evt){}).success(function(response){$rootScope.$broadcast(emitMessage+"Success",response)}).error(function(response){$rootScope.$broadcast(emitMessage+"Error",response)})}}}])}(angular),function(angular){"use strict";angular.module("mainCollegeApp").factory("HTTPService",["$rootScope","$http",function($rootScope,$http){return{POSTRequest:function(URL,data,emitMessage){$http({method:"POST",url:URL,data:data,headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}}).then(function(response){"success"==response.data.status?$rootScope.$broadcast(emitMessage+"Success",response):$rootScope.$broadcast(emitMessage+"Error",response)},function(response){$rootScope.$broadcast(emitMessage+"Error",response)})}}}])}(angular),function(angular){"use strict";angular.module("mainCollegeApp").factory("utilityService",["$rootScope",function($rootScope){return{objectToRequestData:function(dataObj){var form_data="";for(var key in dataObj)form_data=form_data+key+"="+dataObj[key]+"&";return form_data.slice(0,-1)}}}])}(angular);var app=angular.module("mainCollegeApp.dashboard",[]);app.controller("dashboardCtrl",function($scope){console.log("Its working perfect")});var app=angular.module("mainCollegeApp.addStateCityApp",[]);app.controller("addStateCityCtrl",function($scope){console.log("Loaded state city controller")});var app=angular.module("mainCollegeApp.subCityPincodeApp",[]);app.controller("subCityPincodeCtrl",function($scope){console.log("Loaded sub city pincode ctrl")});var app=angular.module("mainCollegeApp.viewLocationsApp",[]);app.controller("viewLocationsCtrl",function($scope){console.log("Loaded view locations ctrl")});var app=angular.module("mainCollegeApp.collegeManagementApp",[]);app.controller("collegeManagementCtrl",function($scope){console.log("Loaded college management controller")});var app=angular.module("mainCollegeApp.coachingManagementApp",[]);app.controller("coachingManagementCtrl",function($scope){console.log("Loaded coaching management controller.")});var app=angular.module("mainCollegeApp.schoolRegistrationApp",["angularFileUpload"]);app.controller("schoolRegistrationCtrl",function($scope,uploadService,utilityService,HTTPService){console.log("Loaded school registration controller."),$scope.schoolRegistrationJSON={data:{school_name:"NIST SCHOOL",location:"AKP",establishment:"2001",description:"DEC",affiliation:"CBSE",website:"example.com",school_start_time:"10:00",school_end_time:"04:00",address:"address",landline_num:"landline_num",mobile_num:"0213125469",emailid:"emailid",facilities:[{text:"AC",value:0},{text:"BUS",value:1}],profile_image:"/media/profiles/school/1.jpg",extra_curriculum:[{text:"sports",value:1},{text:"yoga",value:0}]}},$scope.schoolImageURL="/media/site/logo_dummy.png",$scope.shcoolImageUploadURL="/upload/school/",$scope.onFileSelect=function(fileObj,fileType){console.log(fileObj,fileType),uploadService.uploadFile(fileObj,$scope.shcoolImageUploadURL,fileType,"schoolImageUpload")},$scope.resetSchoolRegistrationForm=function(){$scope.schoolRegistrationJSON={data:{school_name:"NIST SCHOOL",location:"AKP",establishment:"2001",description:"DEC",affiliation:"CBSE",website:"example.com",school_start_time:"10:00",school_end_time:"04:00",address:"address",landline_num:"landline_num",mobile_num:"0213125469",emailid:"emailid",facilities:[{text:"AC",value:0},{text:"BUS",value:1}],profile_image:"/media/profiles/school/1.jpg",extra_curriculum:[{text:"sports",value:1},{text:"yoga",value:0}]}}},$scope.saveSchoolRegistration=function(schoolObj){var formData=utilityService.objectToRequestData({jsonData:encodeURIComponent(JSON.stringify(schoolObj))});HTTPService.POSTRequest("/register/school/",formData,"schoolRegistration")},$scope.$on("schoolRegistrationSuccess",function(event,response){$scope.resetSchoolRegistrationForm()}),$scope.$on("schoolRegistrationError",function(event,response){}),$scope.$on("schoolImageUploadSuccess",function(event,response){"success"==response.status&&($scope.schoolImageURL=response.profile_image_path)}),$scope.$on("schoolImageUploadError",function(event,response){})});var app=angular.module("mainCollegeApp.collegeRegistrationApp",[]);app.controller("collegeRegistrationCtrl",function($scope,uploadService,utilityService,HTTPService){$scope.collegeRegistrationJSON={data:{college_name:"nist",location:"vizag",establishment:"2001",description:"description",affiliation:"au",website:"nistvizag.com",address:"vizag",landline_num:"123456789",mobile_num:"1234567890",emailid:"a@a.com",facilities:[{value:1,text:"Ac"},{value:0,text:"Mineral Water"},{value:1,text:"Bus"}],profile_image:"",highest_package:"320000",average_package:"150000",courses:[{course:"MBA",duration:"2 yr",fee:"100000",entrance:"ICET"}]}},$scope.collegeImageURL="/media/site/logo_dummy.png",$scope.collegeImageUploadURL="/upload/college/",$scope.hideCollegeCoureseRemoveButton=!0,$scope.onFileSelect=function(fileObj,fileType){console.log(fileObj,fileType),uploadService.uploadFile(fileObj,$scope.collegeImageUploadURL,fileType,"collegeImageUpload")},$scope.addCollegeCourse=function(){$scope.collegeRegistrationJSON.data.courses.push({course:"",duration:"",fee:""}),$scope.collegeRegistrationJSON.data.courses.length>=2&&($scope.hideCollegeCoureseRemoveButton=!1)},$scope.removeCollegeCourse=function(index){$scope.collegeRegistrationJSON.data.courses.splice(index,1),$scope.collegeRegistrationJSON.data.courses.length<=1&&($scope.hideCollegeCoureseRemoveButton=!0)},$scope.resetCollegeRegistrationForm=function(){$scope.collegeRegistrationJSON={data:{college_name:"nist",location:"vizag",establishment:"2001",description:"description",affiliation:"au",website:"nistvizag.com",address:"vizag",landline_num:"123456789",mobile_num:"1234567890",emailid:"a@a.com",facilities:[{value:1,text:"Ac"},{value:0,text:"Mineral Water"},{value:1,text:"Bus"}],profile_image:"",highest_package:"320000",average_package:"150000",courses:[{course:"MBA",duration:"2 yr",fee:"100000",entrance:"ICET"}]}}},$scope.saveCollegeRegistration=function(collegeObj){var formData=utilityService.objectToRequestData({jsonData:encodeURIComponent(JSON.stringify(collegeObj))});HTTPService.POSTRequest("/register/college/",formData,"collegeRegistration")},$scope.$on("collegeRegistrationSuccess",function(event,response){$scope.resetCollegeRegistrationForm()}),$scope.$on("collegeRegistrationError",function(event,response){}),$scope.$on("collegeImageUploadSuccess",function(event,response){"success"==response.status&&($scope.collegeImageURL=response.profile_image_path)}),$scope.$on("collegeImageUploadError",function(event,response){})});var app=angular.module("mainCollegeApp.coachingRegistrationApp",[]);app.controller("coachingRegistrationCtrl",function($scope,uploadService,HTTPService,utilityService){console.log("Loaded coaching registration controller."),$scope.coachingImageURL="/media/site/logo_dummy.png",$scope.coachingImageUploadURL="/upload/coaching/",$scope.hideCoachingCoureseRemoveButton=!0,$scope.coachingRegistrationJSON={data:{institute_name:"",director_name:"",location:"",establishment:"",description:"",affiliation:"",website:"",address:"",landline_num:"",mobile_num:"",emailid:"",facilities:[{value:1,text:"Ac"},{value:0,text:"Mineral Water"},{value:1,text:"Bus"}],profile_image:"",courses:[{course:"",duration:"",fee:""}]}},$scope.onFileSelect=function(fileObj,fileType){console.log(fileObj,fileType),uploadService.uploadFile(fileObj,$scope.coachingImageUploadURL,fileType,"coachingImageUpload")},$scope.addCoachingCourse=function(){console.log($scope.coachingRegistrationJSON.data.courses.length),$scope.coachingRegistrationJSON.data.courses.push({course:"",duration:"",fee:""}),$scope.coachingRegistrationJSON.data.courses.length>=2&&($scope.hideCoachingCoureseRemoveButton=!1)},$scope.removeCoachingCourse=function(index){$scope.coachingRegistrationJSON.data.courses.splice(index,1),$scope.coachingRegistrationJSON.data.courses.length<=1&&($scope.hideCoachingCoureseRemoveButton=!0)},$scope.resetCoachingRegistrationForm=function(){$scope.coachingRegistrationJSON={data:{institute_name:"",director_name:"",location:"",establishment:"",description:"",affiliation:"",website:"",address:"",landline_num:"",mobile_num:"",emailid:"",facilities:[{value:1,text:"Ac"},{value:0,text:"Mineral Water"},{value:1,text:"Bus"}],profile_image:"",courses:[{course:"",duration:"",fee:""}]}}},$scope.saveCoachingRegistration=function(coachingObj){var formData=utilityService.objectToRequestData({jsonData:encodeURIComponent(JSON.stringify(coachingObj))});HTTPService.POSTRequest("/register/coaching/",formData,"coachingRegistration")},$scope.$on("coachingRegistrationSuccess",function(event,response){$scope.resetCoachingRegistrationForm()}),$scope.$on("coachingRegistrationError",function(event,response){}),$scope.$on("coachingImageUploadSuccess",function(event,response){"success"==response.status&&($scope.coachingImageURL=response.profile_image_path)}),$scope.$on("coachingImageUploadError",function(event,response){})});